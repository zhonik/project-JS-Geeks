import{S as I,N as q,K as M,a as v,i as m}from"./assets/vendor-BvPA-ZqM.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".faq-item");if(e.length===0)return;const o=i=>{window.matchMedia("(min-width: 768px)").matches?i.style.padding="26px 0":i.style.padding="16px 0"},s=()=>{e.forEach((i,r)=>{r>=3&&window.matchMedia("(min-width: 1440px)").matches?i.style.paddingLeft="32px":i.style.paddingLeft=""})};e.forEach(i=>{const r=i.querySelector(".faq-header"),n=i.querySelector(".faq-answer"),u=i.querySelector(".toggle-btn"),f=u.querySelector("svg");!r||!n||!u||!f||(n.style.maxHeight="0",n.style.overflow="hidden",n.style.opacity="0",n.style.transform="translateY(-20px)",r.addEventListener("click",()=>{const N=n.classList.contains("open");e.forEach(S=>{const l=S.querySelector(".faq-answer"),$=S.querySelector(".toggle-btn").querySelector("svg");l&&l!==n&&(l.style.maxHeight="0",l.style.opacity="0",l.style.transform="translateY(-20px)",l.style.overflow="hidden",l.classList.remove("open"),$.classList.remove("rotated"))}),N?(n.style.setProperty("max-height","0","important"),n.style.opacity="0",n.style.transform="translateY(-20px)",n.style.overflow="hidden",n.style.padding="0",n.classList.remove("open"),f.classList.remove("rotated")):(n.style.setProperty("max-height",`${n.scrollHeight}px`,"important"),n.style.opacity="1",n.style.transform="translateY(0)",n.style.overflow="visible",o(n),n.classList.add("open"),f.classList.add("rotated"))}))}),s(),window.addEventListener("resize",()=>{s(),e.forEach(i=>{const r=i.querySelector(".faq-answer");r&&r.classList.contains("open")&&o(r)})})});const d={prevButton:document.querySelector(".projects-btn.swiper-button-prev"),nextButton:document.querySelector(".projects-btn.swiper-button-next"),projectsBtnBox:document.querySelector(".projects-btn-box")};new I(".projects-container.swiper",{modules:[q,M],slidesPerView:1,speed:1e3,loop:!1,navigation:{nextEl:".projects-btn.swiper-button-next",prevEl:".projects-btn.swiper-button-prev"},spaceBetween:32,keyboard:{enabled:!0,onlyInViewport:!0},on:{init:L,slideChange:L}});d.projectsBtnBox.addEventListener("mousedown",e=>{e.target!==e.currentTarget&&setTimeout(()=>e.target.closest("button").blur(),0)});function L(e){e.isBeginning?d.prevButton.setAttribute("disabled","true"):d.prevButton.removeAttribute("disabled"),e.isEnd?d.nextButton.setAttribute("disabled","true"):d.nextButton.removeAttribute("disabled")}const c={reviewsList:document.querySelector(".reviews-card-list"),stubReviews:document.querySelector(".reviews-not-found"),reviewsSection:document.querySelector(".reviews"),prevButton:document.querySelector(".reviews-button.swiper-button-prev"),nextButton:document.querySelector(".reviews-button.swiper-button-next"),reviewsBtnBox:document.querySelector(".reviews-btn-box")};let C=!1,j=!1;c.reviewsBtnBox.addEventListener("mousedown",e=>{e.target!==e.currentTarget&&setTimeout(()=>e.target.closest("button").blur(),0)});const P=new I(".reviews-card-container.swiper",{modules:[q,M],slidesPerView:1,speed:1e3,navigation:{nextEl:".reviews-button.swiper-button-next",prevEl:".reviews-button.swiper-button-prev"},spaceBetween:16,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){V(P)}}});F().then(e=>{!e||e.length===0?(E(),j=!0):(z(e),P.update())}).catch(()=>{E(),C=!0});const W=new IntersectionObserver(H,{root:null,threshold:.2});W.observe(c.reviewsSection);async function F(){return v.defaults.baseURL="https://portfolio-js.b.goit.study/api",(await v.get("/reviews")).data}function V(e){e.isBeginning?c.prevButton.setAttribute("disabled","true"):c.prevButton.removeAttribute("disabled"),e.isEnd?c.nextButton.setAttribute("disabled","true"):c.nextButton.removeAttribute("disabled")}function _({author:e,avatar_url:o,_id:s,review:i}){return`<li class="reviews-card-item swiper-slide"
                tabindex="${s-1}"
                aria-label="review ${s}"
              >
                <img
                  class="reviews-card-image"
                  src="${o}"
                  alt="photo of ${e}"
                  width="48"
                  height="48"
                />
                <h3 class="reviews-card-heading">${e}</h3>
                <p class="reviews-card-text">${i}</p>`}function D(e){return e.map(_).join("")}function z(e){const o=D(e);c.reviewsList.innerHTML=o}function E(){c.stubReviews.classList.remove("visually-hidden")}function H(e,o){e.forEach(s=>{s.isIntersecting&&(o.disconnect(),C&&m.error({position:"topRight",message:"Server not responding, please try later"}),j&&m.info({position:"topRight",message:"We're sorry, there are no reviews yet"}))})}const Y="/project-JS-Geeks/assets/sprite-BJEWnD_I.svg",t={form:document.querySelector(".js-form"),modalBackdrop:document.querySelector(".js-modal-backdrop"),modalWindow:document.querySelector(".js-modal-window"),closeModalButton:document.querySelector(".jd-modal-close-button"),emailInput:document.querySelector(".js-email"),commentInput:document.querySelector(".js-comment"),successMessage:document.querySelector(".js-success-message"),errorMessage:document.querySelector(".js-error-messasge")};t.form.addEventListener("input",K);t.form.addEventListener("submit",U);t.emailInput.addEventListener("input",Q);t.commentInput.addEventListener("input",X);t.commentInput.addEventListener("blur",b);t.commentInput.addEventListener("focus",me);window.addEventListener("resize",de);t.modalWindow.addEventListener("click",e=>{e.target.closest(".js-modal-close-button")&&w()});t.modalBackdrop.addEventListener("click",e=>{e.target===e.currentTarget&&w()});document.addEventListener("DOMContentLoaded",()=>{G()});const J=2,p="form-storage-key";var B;let a=((B=T(p))==null?void 0:B.comment)||"";function K(e){const o=e.currentTarget.elements["user-email"].value.trim(),s=e.currentTarget.elements["user-comment"].value.trim();ee(p,{email:o,comment:s})}function G(){const e=T(p);t.form.elements["user-email"].value=(e==null?void 0:e.email)||"",t.form.elements["user-comment"].value=(e==null?void 0:e.comment)||"",a=(e==null?void 0:e.comment)||"",b()}async function U(e){e.preventDefault();const o=e.target.elements["user-email"].value.trim(),s=e.target.elements["user-comment"].value.trim();if(!o||!s){m.error({message:"Please complete the field"});return}const i={email:o,comment:a};try{const r=await Z(i),n=ve(r);t.modalWindow.innerHTML=n,r&&(g(),h(),te(),e.target.reset(),localStorage.removeItem(p),a="")}catch(r){m.error({message:"Something went wrong. Please, try again"}),console.log(r)}}function Q(){const e=this.value,o=this.getAttribute("pattern"),i=new RegExp(o).test(this.value);if(e.length===0){g(),h(),y(),O();return}i?(re(),h()):(g(),se())}function X(){if(a=t.commentInput.value.trim(),a.length===0){A(),x();return}a.length<J?ce():(x(),ae())}async function Z({email:e,comment:o}){const s="https://portfolio-js.b.goit.study/api/requests",i={email:e,comment:o};try{return(await v.post(s,i)).data}catch(r){console.log(r)}}function ee(e,o){const s=JSON.stringify(o);localStorage.setItem(e,s)}function T(e){const o=localStorage.getItem(e);try{return JSON.parse(o)}catch{return o}}function te(){t.modalBackdrop.classList.add("is-open"),document.addEventListener("keydown",R),oe(),y(),A()}function w(){t.modalBackdrop.classList.remove("is-open"),document.removeEventListener("keydown",R),ne()}function R(e){e.key==="Escape"&&w()}function oe(){const e=window.innerWidth,o=document.documentElement.clientWidth,s=e-o;document.body.style.paddingRight=`${s}px`,document.body.style.overflow="hidden"}function ne(){document.body.style.paddingRight="",document.body.style.overflow=""}function re(){t.successMessage.classList.remove("fade-out"),t.successMessage.classList.add("fade-in"),k()}function g(){t.successMessage.classList.remove("fade-in"),t.successMessage.classList.add("fade-out"),y()}function se(){t.errorMessage.classList.remove("fade-out"),t.errorMessage.classList.add("fade-in"),ie()}function h(){t.errorMessage.classList.remove("fade-in"),t.errorMessage.classList.add("fade-out"),O(),k()}function k(){t.emailInput.style.borderColor="#3cbc81"}function y(){t.emailInput.style.borderColor=""}function ie(){t.emailInput.style.borderColor="#e74a3b"}function O(){t.emailInput.style.borderColor=""}function ae(){t.commentInput.style.borderColor="#3cbc81"}function A(){t.commentInput.style.borderColor=""}function ce(){t.commentInput.style.borderColor="#e74a3b"}function x(){t.commentInput.style.borderColor=""}function le(e,o){if(e.length>o){const s=o-3;return e.slice(0,s)+"..."}return e}function ue(){const e=window.innerWidth;if(e>=320&&e<=767)return 36;if(e>=768&&e<=1440)return 30;if(e>=1440)return 44}function de(){document.activeElement!==t.commentInput&&b()}function b(){if(!t.commentInput.value||!a)return;const e=ue();a.length>e&&(t.commentInput.value=le(a,e),pe())}function me(){t.commentInput.value&&(t.commentInput.value=a,fe())}function pe(){t.commentInput.style.color="rgba(250, 250, 250, 0.6)"}function fe(){t.commentInput.style.color="#fafafa"}function ve({title:e,message:o}){return`<button class="modal-close-button js-modal-close-button" type="submit">
            <svg class="icon-modal-close" width="24" height="24">
                 <use xlink:href="${Y}#x"></use>
            </svg>
        </button>
        <h2 class="modal-title">${e}</h2>
        <p class="modal-text">${o}</p>`}
//# sourceMappingURL=index.js.map
