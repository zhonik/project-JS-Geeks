import{S as L,N as S,K as x,a as f,i as m}from"./assets/vendor-BvPA-ZqM.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function i(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(s){if(s.ep)return;s.ep=!0;const t=i(s);fetch(s.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".faq-item");if(e.length===0)return;const n=r=>{window.matchMedia("(min-width: 768px)").matches?r.style.padding="26px 0":r.style.padding="16px 0"},i=()=>{e.forEach((r,s)=>{s>=3&&window.matchMedia("(min-width: 1440px)").matches?r.style.paddingLeft="32px":r.style.paddingLeft=""})};e.forEach(r=>{const s=r.querySelector(".faq-header"),t=r.querySelector(".faq-answer"),l=r.querySelector(".toggle-btn"),p=l.querySelector("svg");!s||!t||!l||!p||(t.style.maxHeight="0",t.style.overflow="hidden",t.style.opacity="0",t.style.transform="translateY(-20px)",s.addEventListener("click",()=>{const I=t.classList.contains("open");e.forEach(h=>{const c=h.querySelector(".faq-answer"),P=h.querySelector(".toggle-btn").querySelector("svg");c&&c!==t&&(c.style.maxHeight="0",c.style.opacity="0",c.style.transform="translateY(-20px)",c.style.overflow="hidden",c.classList.remove("open"),P.classList.remove("rotated"))}),I?(t.style.setProperty("max-height","0","important"),t.style.opacity="0",t.style.transform="translateY(-20px)",t.style.overflow="hidden",t.style.padding="0",t.classList.remove("open"),p.classList.remove("rotated")):(t.style.setProperty("max-height",`${t.scrollHeight}px`,"important"),t.style.opacity="1",t.style.transform="translateY(0)",t.style.overflow="visible",n(t),t.classList.add("open"),p.classList.add("rotated"))}))}),i(),window.addEventListener("resize",()=>{i(),e.forEach(r=>{const s=r.querySelector(".faq-answer");s&&s.classList.contains("open")&&n(s)})})});const u={prevButton:document.querySelector(".projects-btn.swiper-button-prev"),nextButton:document.querySelector(".projects-btn.swiper-button-next"),projectsBtnBox:document.querySelector(".projects-btn-box")};new L(".projects-container.swiper",{modules:[S,x],slidesPerView:1,speed:1e3,loop:!1,navigation:{nextEl:".projects-btn.swiper-button-next",prevEl:".projects-btn.swiper-button-prev"},spaceBetween:32,keyboard:{enabled:!0,onlyInViewport:!0},on:{init:y,slideChange:y}});u.projectsBtnBox.addEventListener("mousedown",e=>{e.target!==e.currentTarget&&setTimeout(()=>e.target.closest("button").blur(),0)});function y(e){e.isBeginning?u.prevButton.setAttribute("disabled","true"):u.prevButton.removeAttribute("disabled"),e.isEnd?u.nextButton.setAttribute("disabled","true"):u.nextButton.removeAttribute("disabled")}const a={reviewsList:document.querySelector(".reviews-card-list"),stubReviews:document.querySelector(".reviews-not-found"),reviewsSection:document.querySelector(".reviews"),prevButton:document.querySelector(".reviews-button.swiper-button-prev"),nextButton:document.querySelector(".reviews-button.swiper-button-next"),reviewsBtnBox:document.querySelector(".reviews-btn-box")};let E=!1,B=!1;a.reviewsBtnBox.addEventListener("mousedown",e=>{e.target!==e.currentTarget&&setTimeout(()=>e.target.closest("button").blur(),0)});const q=new L(".reviews-card-container.swiper",{modules:[S,x],slidesPerView:1,speed:1e3,navigation:{nextEl:".reviews-button.swiper-button-next",prevEl:".reviews-button.swiper-button-prev"},spaceBetween:16,breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},keyboard:{enabled:!0,onlyInViewport:!0},on:{slideChange:function(){T(q)}}});k().then(e=>{!e||e.length===0?(b(),B=!0):(W(e),q.update())}).catch(()=>{b(),E=!0});const R=new IntersectionObserver(N,{root:null,threshold:.2});R.observe(a.reviewsSection);async function k(){return f.defaults.baseURL="https://portfolio-js.b.goit.study/api",(await f.get("/reviews")).data}function T(e){e.isBeginning?a.prevButton.setAttribute("disabled","true"):a.prevButton.removeAttribute("disabled"),e.isEnd?a.nextButton.setAttribute("disabled","true"):a.nextButton.removeAttribute("disabled")}function $({author:e,avatar_url:n,_id:i,review:r}){return`<li class="reviews-card-item swiper-slide"
                tabindex="${i-1}"
                aria-label="review ${i}"
              >
                <img
                  class="reviews-card-image"
                  src="${n}"
                  alt="photo of ${e}"
                  width="48"
                  height="48"
                />
                <h3 class="reviews-card-heading">${e}</h3>
                <p class="reviews-card-text">${r}</p>`}function A(e){return e.map($).join("")}function W(e){const n=A(e);a.reviewsList.innerHTML=n}function b(){a.stubReviews.classList.remove("visually-hidden")}function N(e,n){e.forEach(i=>{i.isIntersecting&&(n.disconnect(),E&&m.error({position:"topRight",message:"Server not responding, please try later"}),B&&m.info({position:"topRight",message:"We're sorry, there are no reviews yet"}))})}const O="/project-JS-Geeks/assets/sprite-BJEWnD_I.svg",o={form:document.querySelector(".js-form"),modalBackdrop:document.querySelector(".js-modal-backdrop"),modalWindow:document.querySelector(".js-modal-window"),closeModalButton:document.querySelector(".jd-modal-close-button"),emailInput:document.querySelector(".js-email"),commentInput:document.querySelector(".js-comment"),successMessage:document.querySelector(".js-success-message"),errorMessage:document.querySelector(".js-error-messasge")};o.form.addEventListener("submit",C);o.emailInput.addEventListener("input",V);o.commentInput.addEventListener("input",D);o.commentInput.addEventListener("blur",j);o.commentInput.addEventListener("focus",Q);window.addEventListener("resize",U);o.modalWindow.addEventListener("click",e=>{e.target.closest(".js-modal-close-button")&&g()});o.modalBackdrop.addEventListener("click",e=>{e.target===e.currentTarget&&g()});let d="";async function C(e){e.preventDefault();const n=e.target.elements["user-email"].value.trim(),i=e.target.elements["user-comment"].value.trim();if(!n||!i){m.error({message:"Please complete the field"});return}const r={email:n,comment:d};try{const s=await z(r),t=X(s);o.modalWindow.innerHTML=t,s&&(v(),w(),F(),e.target.reset())}catch(s){m.error({message:"Something went wrong. Please, try again"}),console.log(s)}}function V(){const e=this.value,i=new RegExp(this.getAttribute("pattern")).test(this.value);if(e.length===0){v(),w();return}i?(Y(),w()):(v(),K())}function D(){d=o.commentInput.value}async function z({email:e,comment:n}){const i="https://portfolio-js.b.goit.study/api/requests",r={email:e,comment:n};try{return(await f.post(i,r)).data}catch(s){console.log(s)}}function F(){o.modalBackdrop.classList.add("is-open"),document.addEventListener("keydown",M),H()}function g(){o.modalBackdrop.classList.remove("is-open"),document.removeEventListener("keydown",M),_()}function M(e){e.key==="Escape"&&g()}function H(){const e=window.innerWidth,n=document.documentElement.clientWidth,i=e-n;document.body.style.paddingRight=`${i}px`,document.body.style.overflow="hidden"}function _(){document.body.style.paddingRight="",document.body.style.overflow=""}function Y(){o.successMessage.classList.remove("fade-out"),o.successMessage.classList.add("fade-in")}function v(){o.successMessage.classList.remove("fade-in"),o.successMessage.classList.add("fade-out")}function K(){o.errorMessage.classList.remove("fade-out"),o.errorMessage.classList.add("fade-in")}function w(){o.errorMessage.classList.remove("fade-in"),o.errorMessage.classList.add("fade-out")}function J(e,n){if(e.length>n){const i=n-3;return e.slice(0,i)+"..."}return e}function G(){const e=window.innerWidth;if(e>=320&&e<=767)return 36;if(e>=768&&e<=1440)return 30;if(e>=1440)return 44}function U(){document.activeElement!==o.commentInput&&j()}function j(){if(!d)return;const e=G();d.length>e&&(o.commentInput.value=J(d,e))}function Q(){o.commentInput.value=d}function X({title:e,message:n}){return`<button class="modal-close-button js-modal-close-button" type="submit">
            <svg class="icon-modal-close" width="24" height="24">
                 <use xlink:href="${O}#x"></use>
            </svg>
        </button>
        <h2 class="modal-title">${e}</h2>
        <p class="modal-text">${n}</p>`}
//# sourceMappingURL=index.js.map
